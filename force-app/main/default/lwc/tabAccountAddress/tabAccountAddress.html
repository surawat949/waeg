<template>
    <!--Spinner-->
    <div if:true={isLoading}>
        <lightning-spinner alternative-text="Loading..." variant="brand" class="slds-is-fixed"></lightning-spinner>
    </div>
    <template if:true={isHealthInsuranceRC}>
    <!--Customer Satisfaction Indicator Section-->
        <div class="slds-box slds-grid">
            <div class="slds-col slds-size_1-of-6">
                {label.contact}
                <br>
                <div>
                    <img style="height: 40px; width: 40px;" src={contactIndicator} title={contactMeaning}>
                </div>
            </div>
            <div class="slds-col slds-size_1-of-6">
                {label.sales}
                <br>
                <div>
                    <img style="height: 40px; width: 40px;" src={salesIndicator} title={salesFlagMeaning}>
                </div>
            </div>
        
            <div class="slds-col slds-size_1-of-6">
                {label.deliveries}
                <br>
                <img style="height: 40px; width: 40px;" src={deliveryIndicator} title={deliveriesFlagMeaning}>
            </div>
            <div class="slds-col slds-size_1-of-6">
                {label.returns}
                <br>
                <img style="height: 40px; width: 40px;" src={returnsIndicator} title={returnsFlagMeaning}>
            </div>
            <div class="slds-col slds-size_1-of-6">
                {label.payment}
                <br>
                <img style="height: 40px; width: 40px;" src={paymentsIndicator} title={paymentsFlagMeaning}>
            </div>
            <div class="slds-col slds-size_1-of-6">
                {label.satisfaction}
                <br>
                <img style="height: 40px; width: 40px;" src={satisfactionIndicator} title={satisfactionFlagMeaning}>
            </div>
            <!--div class="slds-col slds-size_1-of-2">           
                <lightning-helptext icon-name="utility:help" content="Explanation of feature"></lightning-helptext>
                <br>
            </div>
            <div> </div-->
        </div>
    </template>
        
    <!--Account Address Section-->
    <div class="slds-box slds-p-around_none slds-var-m-top_x-small slds-var-m-bottom_medium slds-m-horizontal_none">
        <table class="slds-table slds-table_bordered" aria-label="Account Address" style="background-color: #aacbff;">
            <tr class="row" style="background-color: #aacbff;">
                <td><h3 class="slds-section__title  test-id__section-header-container" data-aura-rendered-by="344:1408;a"><p align="left">{label.label_Address}</p></h3></td>
                <td><p align="right"><lightning-button label={label.label_demand} variant="brand-outline" onclick={showPopup}></lightning-button></p></td>
            </tr>
        </table><br>
        <div class="slds-grid slds-m-left_small slds-m-right_small">
            <div class="slds-col slds-size_2-of-3">
                <lightning-record-form
                    record-id={receivedId}
                    object-api-name={objectApiName}
                    fields={field1}
                    mode="view"
                    columns="3"
                    onsuccess={handleSuccess}
                ></lightning-record-form>
            </div>
           <div class="slds-col slds-size_1-of-3 slds-m-right_small">
                <lightning-record-form
                    record-id={receivedId}
                    object-api-name="Account"
                    fields="Account_Status__c"
                    mode="readonly"
                    columns="1">
                </lightning-record-form>
            </div>
        </div>
        <div class="slds-grid slds-m-left_small slds-m-right_small">
            <div class="slds-col slds-size_2-of-3">
                <lightning-record-form
                    record-id={receivedId}
                    object-api-name={objectApiName}
                    fields={field2}
                    mode="view"
                    columns="3"
                    onsuccess={handleSuccess}
                ></lightning-record-form>
            </div>
             <div class="slds-col slds-size_1-of-3 slds-m-right_small">
                <lightning-record-form
                    record-id={receivedId}
                    object-api-name="Account"
                    fields="Brand__c"
                    mode="readonly"
                    columns="1">
                </lightning-record-form>
            </div>
        </div>
        <div class="slds-grid slds-m-left_small slds-m-right_small">
            <div class="slds-col slds-size_2-of-3">
                <lightning-record-form
                    record-id={receivedId}
                    object-api-name={objectApiName}
                    fields={field3}
                    mode="view"
                    columns="3"
                    onsuccess={handleSuccess}
                ></lightning-record-form>
            </div>
            <div class="slds-col slds-size_1-of-3 slds-m-right_small">
                <lightning-record-form
                    record-id={receivedId}
                    object-api-name="Account"
                    fields="CHCUSTCLASSIFICATIONID__c"
                    mode="readonly"
                    columns="1">
                </lightning-record-form>
            </div>
        </div>
        <div class="slds-grid slds-m-left_small slds-m-right_small">
            <div class="slds-col slds-size_2-of-3">
                <lightning-record-form
                    record-id={receivedId}
                    object-api-name={objectApiName}
                    fields={field4}
                    mode="view"
                    columns="3"
                    onsuccess={handleSuccess}
                ></lightning-record-form>
            </div>
              <div class="slds-col slds-size_1-of-3 slds-m-right_small">
                <lightning-record-form
                    record-id={receivedId}
                    object-api-name="Account"
                    fields="Channel__c"
                    mode="readonly"
                    columns="1">
                </lightning-record-form>
            </div>
        </div>
        <div class="slds-grid slds-m-left_small slds-m-right_small">
            <div class="slds-col slds-size_2-of-3">
                <lightning-record-form
                    record-id={receivedId}
                    object-api-name={objectApiName}
                    fields={field5}
                    mode="view"
                    columns="3"
                    onsuccess={handleSuccess}
                ></lightning-record-form>
            </div>
            <div class="slds-col slds-size_1-of-3 slds-m-right_small">
                <lightning-record-form
                    record-id={receivedId}
                    object-api-name="Account"
                    fields="Pre_Boarding_Status__c"
                    mode="readonly"
                    columns="1">
                </lightning-record-form>
            </div>
        </div>
        <div class="slds-grid slds-m-left_small slds-m-right_small">
            <div class="slds-col slds-size_2-of-3">
                <lightning-record-form
                    record-id={receivedId}
                    object-api-name={objectApiName}
                    fields={field6}
                    mode="view"
                    columns="3"
                    onsuccess={handleSuccess}
                ></lightning-record-form>
            </div>
			<div class="slds-col slds-size_1-of-3 slds-m-right_small">
                <lightning-record-form
                    record-id={receivedId}
                    object-api-name="Account"
                    fields="Local_Segm__c"
                    mode="readonly"
                    columns="1">
                </lightning-record-form>
            </div>
        </div>
        <br>
    </div>
     <!--Specific Email Address Section-->
    <template if:true={isHealthInsuranceRC}>
        <div class="slds-box slds-p-around_none slds-var-m-top_x-small slds-var-m-bottom_medium slds-m-horizontal_none">
            <table class="slds-table slds-table_bordered" aria-label="Account Address" style="background-color: #aacbff;">
                <tr class="row" style="background-color: #aacbff;">
                    <td><h3 class="slds-section__title  test-id__section-header-container" data-aura-rendered-by="344:1408;a"><p align="left">{label.label_SpecificEmail}</p></h3></td>
                    <td><p align="right"><lightning-button label={label.label_copyemail} variant="brand-outline" onclick={handleClick}></lightning-button></p></td>
                </tr>
            </table><br>
            <lightning-layout>
                <lightning-layout-item flexibility="auto" padding="around-small">
                    <lightning-record-form
                        record-id={receivedId}
                        object-api-name={objectApiName}
                        fields={Survey_Eamil_Fields}
                        mode="view"
                        columns="2"
                        onsuccess={handleSuccess}
                    >

                    </lightning-record-form>
                </lightning-layout-item>
            </lightning-layout><br>
        </div>
    </template>
    <!--Contact Related List section-->
    <div class="slds-box slds-p-around_none slds-var-m-top_x-small slds-var-m-bottom_medium slds-m-horizontal_none">    
        <table class="slds-table slds-table_bordered" aria-label="Account Address" style="background-color: #215ca0;">
            <tr class="row" style="background-color: #aacbff;">
                <td><h3 class="slds-section__title  test-id__section-header-container" data-aura-rendered-by="344:1408;a"><p align="left">{label.label_Contact} ({contactCount})</p></h3></td>
                    <td><p align="right"><lightning-button label={label.label_new} variant="brand-outline" onclick={showContactPopup}></lightning-button></p></td>
            </tr>
        </table><br>
        <template if:true={ContactRecord}>
            <lightning-datatable data={ContactRecord} columns={columns} key-field="Id" hide-checkbox-column="true" show-row-number-column="true"></lightning-datatable>
        </template>
        <template if:true={error}>
            {error}
        </template><br>
        <template if:true={contactCount}>
            <p align="center"><lightning-button label={label.label_viewall} onclick={navigateToRelatedList}></lightning-button></p><br>
        </template>
    </div>
</template>