<template>
  <div class="slds-box slds-p-around_none slds-var-m-top_x-small slds-var-m-bottom_medium slds-m-horizontal_none">
    <!--Visit Frequency-->
   <table class="slds-table slds-table_bordered" aria-label="H+VisitFrequency">
       <tr class="row" style="background-color: #aacbff;">
           <td><h3 class="slds-section__title  test-id__section-header-container">{label.Visit_Frequency}</h3></td>
       </tr>     	        
   </table> <br>
   
    <div class="slds-grid slds-var-m-left_medium">
       <div class="slds-form-element slds-form-element_stacked slds-size_1-of-3">
           <label class="slds-form-element__label"> {label.Last_Contact_Visit_Date} </label><br/>
           <div class="slds-form-element__control">
            <lightning-formatted-date-time value={contactVisitFrequencyData.Last_contact_visit_date__c}></lightning-formatted-date-time>
            </div>
       </div>
       <div class="slds-form-element slds-form-element_stacked slds-size_1-of-3">
           <label class="slds-form-element__label">{label.Last_Digital_Visit_Date}</label><br/>
           <div class="slds-form-element__control">
            <lightning-formatted-date-time value={contactVisitFrequencyData.Last_Digital_Visit_Date__c}></lightning-formatted-date-time>
        </div>                    
       </div>                
    </div>

    <div class="slds-grid slds-var-m-left_medium">
      <div class="slds-form-element slds-form-element_stacked slds-size_1-of-3">
          <label class="slds-form-element__label"> {label.Total_Visits_Achived} </label><br/>
          <div class="slds-form-element__control">{contactVisitFrequencyData.Total_Visit_Achieved__c}%</div>
      </div>
      <div class="slds-form-element slds-form-element_stacked slds-size_1-of-3">
          <label class="slds-form-element__label">{label.Contact_Direct_Visit_Frequency}</label><br/>
          <div class="slds-form-element__control">{contactVisitFrequencyData.Contact_Direct_Visits_Frequency__c}</div>                    
      </div> 
      <div class="slds-form-element slds-form-element_stacked slds-size_1-of-3">
        <label class="slds-form-element__label">{label.Contact_Digital_Visit_Frequency}</label><br/>
        <div class="slds-form-element__control">{contactVisitFrequencyData.Contact_Digital_Visits_Frequency__c}</div>                    
    </div>                 
   </div>

    <lightning-layout>
           <lightning-layout-item flexibility="auto" padding="around-small">
               <lightning-record-form
                   record-id={receivedId}
                   object-api-name={objectApiName}
                   fields={visits_fields_of_contact}
                   mode="view" 
                   columns = "3" >
               </lightning-record-form>
           </lightning-layout-item>
    </lightning-layout>  
</div>  

<!--Tacticom Details-->
<div class="slds-box slds-p-around_none slds-var-m-top_x-small slds-var-m-bottom_medium slds-m-horizontal_none">
    <table class="slds-table slds-table_bordered" aria-label="Contact Tacticom" style="background-color: #215ca0;">
      <tr class="row" style="background-color: #aacbff;">
          <td><h3 class="slds-section__title  test-id__section-header-container" data-aura-rendered-by="344:1408;a"><p align="left">{label.Tacticom}</p></h3></td>
      </tr>
  </table><br>
  
  <lightning-layout>
  
        <lightning-layout-item size="6" flexibility="auto" padding="around-small">
            <lightning-record-form
                record-id={receivedId}
                object-api-name={objectApiName}
                fields={visits_medical_field}
                mode="view" 
                columns = "1" >
            </lightning-record-form>
        </lightning-layout-item>
  
      <lightning-layout-item size="6" padding="around-small"> 
        <template lwc:if ={isDoughnutChartDataReceived}>
        <h2 style="text-align: center;"><b>{label.My_Tacticom_Total_Visits}</b></h2>

        <c-pie-chart-renderer type="doughnut" 
        chart-heading="Visits"
        chart-data={pieChartData} 
        chart-labels={pieChartLabels}
        total-count={totalCount}
        ></c-pie-chart-renderer>
    </template>

    <template lwc:else>
        <h3>{label.ChartMessage} </h3>
    </template>
    
    </lightning-layout-item >
  
    </lightning-layout>
  </div>

<!--Tacticom Details End-->

</template>